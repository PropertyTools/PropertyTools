<Window x:Class="SimpleGridDemo.MainWindow" xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" xmlns:pt="clr-namespace:PropertyTools.Wpf;assembly=PropertyTools.Wpf" xmlns:System="clr-namespace:System;assembly=mscorlib" Title="SimpleGrid Demo" Height="500" Width="900">
	<Window.Resources></Window.Resources>
	<DockPanel>
		<Menu DockPanel.Dock="Top">
			<MenuItem Header="File">
				<MenuItem Header="Exit" Command="Close" />
			</MenuItem>
			<MenuItem Header="Edit">
				<MenuItem Header="Cut" Command="Cut" />
				<MenuItem Header="Copy" Command="Copy" />
				<MenuItem Header="Paste" Command="Paste" />
				<Separator />
				<MenuItem Header="Delete" Command="Delete" />
			</MenuItem>
		</Menu>
		<TabControl>
			<TabItem Header="Arrays">
				<TabControl>
					<TabItem Header="string[,]">
						<pt:SimpleGrid Content="{Binding Data}" />
					</TabItem>
					
                    <TabItem Header="double[,]">
						<pt:SimpleGrid Content="{Binding Matrix}" FormatStrings="0.0000;0.0000;0.0000;0.0000" RowHeaders="M1x,M2x,M3x,M4x" ColumnHeaders="Mx1,Mx2,Mx3,Mx4" />
					</TabItem>
					
                    <TabItem Header="string[]">
						<pt:SimpleGrid Content="{Binding Vector}" AutoGenerateColumns="False" />
					</TabItem>
				</TabControl>
			</TabItem>
			<TabItem Header="Enumerables">
				<TabControl>
					<TabItem Header="AutoGeneratedColumns">
						<pt:SimpleGrid Content="{Binding Items}" />
					</TabItem>
					
                    <TabItem Header="AlternatingRowsBackground">
						<pt:SimpleGrid Content="{Binding Items}" AlternatingRowsBackground="#80FFFFAA" />
					</TabItem>
                    
					<TabItem Header="DataFields">
						<pt:SimpleGrid Content="{Binding Items}" DataFields="Country,Name,Population,IsCapital" ColumnHeaders="$Country,$Name,$Population,$Capital" ColumnAlignments="Left,Left,Right,Center" />
					</TabItem>
                    
                    <TabItem Header="ColumnWidths">
                        <pt:SimpleGrid Content="{Binding Items}" ColumnWidths="2*,2*,*,Auto"/>
                    </TabItem>

                    <TabItem Header="ColumnDefinitions">
						<pt:SimpleGrid Content="{Binding Items}">
							<pt:SimpleGrid.ColumnDefinitions>
								<pt:ColumnDefinition DataField="Country" Header="country" HorizontalAlignment="Left" />
								<pt:ColumnDefinition DataField="Name" Header="name" HorizontalAlignment="Left" />
								<pt:ColumnDefinition DataField="Population" Header="population" HorizontalAlignment="Right" />
								<pt:ColumnDefinition DataField="IsCapital" Header="capital" HorizontalAlignment="Center" />
							</pt:SimpleGrid.ColumnDefinitions>
						</pt:SimpleGrid>
					</TabItem>

					<TabItem Header="One column">
						<pt:SimpleGrid Content="{Binding Items}" DataFields="Name" ColumnHeaders="Name" />
					</TabItem>

					<TabItem Header="Collection&lt;string&gt;">
						<pt:SimpleGrid Content="{Binding StringItems}" ColumnHeaders="Company" DataFields="" />
					</TabItem>

					<TabItem Header="Collection&lt;Mass&gt;">
						<pt:SimpleGrid Content="{Binding MassItems}" ColumnHeaders="Mass" DataFields="" />
					</TabItem>

					<TabItem Header="ItemsInColumns=true">
						<pt:SimpleGrid Content="{Binding Items}" RowHeaderWidth="80" ItemsInColumns="true" />
					</TabItem>
                
                    <TabItem Header="IEnumerable">
                        <pt:SimpleGrid Content="{Binding IEnumerable}"/>
                    </TabItem>
                    
                    <TabItem Header="IEnumerable&lt;&gt;">
                        <pt:SimpleGrid Content="{Binding IEnumerable2}"/>
                    </TabItem>
                </TabControl>
			</TabItem>
			<TabItem Header="Custom templates">
				<TabControl>
					<TabItem Header="Example">
						<pt:SimpleGrid Content="{Binding ExampleItems}"/>
					</TabItem>
                    
					<TabItem Header="CustomTemplates">
						<TabItem.Resources>
							<pt:ColorToBrushConverter x:Key="ColorToBrushConverter" />
						</TabItem.Resources>
						<pt:SimpleGrid Content="{Binding ExampleItems}" DataFields="Boolean,Enum,Double,Integer,DateTime,String,Color" ColumnHeaders="Boolean,Enum,Double,Integer,Date,String,Color" FormatStrings=",,,,yyyy-MM-dd,," ColumnWidths="*,*,*,*,*,3*,140">
							<pt:SimpleGrid.TypeDefinitions>
								<pt:TypeDefinition Type="{x:Type Color}">
									<pt:TypeDefinition.DisplayTemplate>
										<DataTemplate>
											<StackPanel Orientation="Horizontal">
												<Rectangle Width="12" Height="12" Margin="4 0 4 0" Stroke="Black" StrokeThickness="1" Fill="{Binding Converter={StaticResource ColorToBrushConverter}}" />
												<TextBlock Text="{Binding}" />
											</StackPanel>
										</DataTemplate>
									</pt:TypeDefinition.DisplayTemplate>

                                    <!-- todo: cannot get two-way mode on this binding -->
									<!--<pt:TypeTemplates.EditTemplate>
										<DataTemplate>
											<pt:ColorPicker SelectedColor="{Binding}" />
										</DataTemplate>
									</pt:TypeTemplates.EditTemplate>-->
								</pt:TypeDefinition>
								<pt:TypeDefinition Type="{x:Type System:Int32}">
									<pt:TypeDefinition.DisplayTemplate>
										<DataTemplate>
											<Grid>
												<Grid.ColumnDefinitions>
													<ColumnDefinition />
													<ColumnDefinition Width="40" />
												</Grid.ColumnDefinitions>
												<TextBlock Text="{Binding}" Margin="4 0 4 0" HorizontalAlignment="Right" VerticalAlignment="Center" />
												<ProgressBar Minimum="0" Maximum="100" Value="{Binding Mode=OneWay}" Margin="4" Grid.Column="1" />
											</Grid>
										</DataTemplate>
									</pt:TypeDefinition.DisplayTemplate>
								</pt:TypeDefinition>
							</pt:SimpleGrid.TypeDefinitions>
						</pt:SimpleGrid>
					</TabItem>

                    <TabItem Header="CustomTemplates2">
                        <pt:SimpleGrid Content="{Binding ExampleItems}" DataFields="Boolean,Enum,Double,Integer,DateTime,String,Color" ColumnHeaders="Boolean,Enum,Double,Integer,Date,String,Color">
                            <pt:SimpleGrid.TypeDefinitions>
                                <pt:TypeDefinition Type="{x:Type System:Double}" FormatString="0.00" HorizontalAlignment="Right"/>
                                <pt:TypeDefinition Type="{x:Type System:Int32}" FormatString="0000" HorizontalAlignment="Left"/>
                                <pt:TypeDefinition Type="{x:Type System:DateTime}" FormatString="yyyy MMM dd" HorizontalAlignment="Center"/>
                            </pt:SimpleGrid.TypeDefinitions>
                        </pt:SimpleGrid>
                    </TabItem>
                    
                    <TabItem Header="ColumnDefinitions">
						<TabItem.Resources>
							<pt:ColorToBrushConverter x:Key="ColorToBrushConverter" />
						</TabItem.Resources>
						<pt:SimpleGrid Content="{Binding ExampleItems}" DefaultRowHeight="24">
							<pt:SimpleGrid.ColumnDefinitions>
								<pt:ColumnDefinition DataField="Boolean" Header="Enable slider"/>
								<pt:ColumnDefinition DataField="Integer" Header="Value" Width="*" />
                                <pt:ColumnDefinition DataField="Integer" Header="Progress" Width="200">
									<pt:ColumnDefinition.DisplayTemplate>
										<DataTemplate>
                                            <ProgressBar Minimum="0" Maximum="100" Value="{Binding Integer}" Margin="4 2 4 2" />
										</DataTemplate>
									</pt:ColumnDefinition.DisplayTemplate>
								</pt:ColumnDefinition>
								<pt:ColumnDefinition DataField="Integer" Header="Slider" Width="200">
									<pt:ColumnDefinition.DisplayTemplate>
										<DataTemplate>
											<Slider Cursor="Arrow" Minimum="0" Maximum="100" Margin="4 0 4 0" Value="{Binding Integer}" VerticalAlignment="Center" IsEnabled="{Binding Boolean}"/>
										</DataTemplate>
									</pt:ColumnDefinition.DisplayTemplate>
								</pt:ColumnDefinition>
								<pt:ColumnDefinition DataField="Color" Header="Color" Width="140">
									<pt:ColumnDefinition.DisplayTemplate>
										<DataTemplate>
											<Rectangle Width="12" Height="12" Margin="4 0 4 0" Stroke="Black" StrokeThickness="1" Fill="{Binding Color, Converter={StaticResource ColorToBrushConverter}}" />
										</DataTemplate>
									</pt:ColumnDefinition.DisplayTemplate>
									<pt:ColumnDefinition.EditTemplate>
										<DataTemplate>
											<pt:ColorPicker SelectedColor="{Binding Color}" />
										</DataTemplate>
									</pt:ColumnDefinition.EditTemplate>
								</pt:ColumnDefinition>
							</pt:SimpleGrid.ColumnDefinitions>
						</pt:SimpleGrid>
					</TabItem>
				</TabControl>
			</TabItem>
            
			<TabItem Header="Other">
				<TabControl>
					<TabItem Header="Comparison">
						<Grid>
							<Grid.ColumnDefinitions>
								<ColumnDefinition />
								<ColumnDefinition />
							</Grid.ColumnDefinitions>
							<pt:SimpleGrid Content="{Binding Items}" DataFields="Name,Country,Population,IsCapital" ColumnHeaders="Name,Country,Population,Capital" ColumnWidths="2*,2*,1*,50" ColumnAlignments="l,l,c,c" Margin="8" />
							<DataGrid ItemsSource="{Binding Items}" AutoGenerateColumns="False" Grid.Column="1" Margin="8">
								<DataGrid.Columns>
									<DataGridTextColumn Binding="{Binding Name}" Header="Name" Width="SizeToHeader" />
									<DataGridTextColumn Binding="{Binding Country}" Header="Country" Width="SizeToHeader" />
									<DataGridTextColumn Binding="{Binding Population}" Header="Population" Width="SizeToHeader" />
									<DataGridCheckBoxColumn Binding="{Binding IsCapital}" Header="Capital" Width="SizeToHeader" />
								</DataGrid.Columns>
							</DataGrid>
						</Grid>
					</TabItem>
			
                    <TabItem Header="Connected">
						<Grid>
							<Grid.ColumnDefinitions>
								<ColumnDefinition />
								<ColumnDefinition />
							</Grid.ColumnDefinitions>
							<pt:SimpleGrid x:Name="grid1" Content="{Binding Items}" DataFields="Name,Country,Population,IsCapital" ColumnHeaders="Name,Country,Population,Capital" ColumnWidths="2*,2*,1*,50" ColumnAlignments="l,l,c,c" Margin="8" />
							<pt:SimpleGrid Grid.Column="1" Content="{Binding Items}" DataFields="Name,Country,Population,IsCapital" ColumnHeaders="Name,Country,Population,Capital" ColumnWidths="2*,2*,1*,50" ColumnAlignments="l,l,c,c" Margin="8" CurrentCell="{Binding CurrentCell,ElementName=grid1,Mode=TwoWay}" SelectionCell="{Binding SelectionCell, ElementName=grid1, Mode=TwoWay}" />
						</Grid>
					</TabItem>

                    <TabItem Header="Min/MaxHeight">
						<StackPanel>
							<pt:SimpleGrid MinHeight="60" MaxHeight="300" Content="{Binding Items}" Margin="8" />
						</StackPanel>
					</TabItem>

                    <TabItem Header="Empty">
						<pt:SimpleGrid Content="{x:Null}" />
					</TabItem>
					<TabItem Header="Magnified">
						<Grid>
							<Grid.LayoutTransform>
								<ScaleTransform ScaleX="2" ScaleY="2" />
							</Grid.LayoutTransform>
							<pt:SimpleGrid Content="{Binding Items}" />
						</Grid>
					</TabItem>

				</TabControl>
			</TabItem>
		</TabControl>
	</DockPanel>
</Window>